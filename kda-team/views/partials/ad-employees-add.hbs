<!-- Modal Thêm Nhân Viên -->
<div class="modal fade" id="addEmployeesModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="modal-title">
          <span class="fw-mediumbold">Thêm Nhân Viên Mới</span>
        </h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p class="small">Điền đầy đủ thông tin nhân viên vào form dưới đây.</p>
        <form id="addEmployeeForm">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group form-group-default">
                <label>Tên Nhân Viên</label>
                <input id="tenNhanVien" type="text" class="form-control" placeholder="Nhập tên nhân viên" required />
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group form-group-default">
                <label>Địa chỉ liên hệ</label>
                <input id="diaChi" type="text" class="form-control" placeholder="Nhập địa chỉ liên hệ" required />
              </div>
            </div>
            <div class="col-md-6 pe-0">
              <div class="form-group form-group-default">
                <label>CCCD</label>
                <input id="cccd" type="text" class="form-control" placeholder="Nhập CCCD/Passport" required />
              </div>
            </div>
            <div class="col-md-6 pe-0">
              <div class="form-group form-group-default">
                <label>Số điện thoại</label>
                <input id="sdt" type="text" class="form-control" placeholder="Nhập số điện thoại" required />
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group form-group-default">
                <label>Email</label>
                <input id="email" type="email" class="form-control" placeholder="Nhập email" required />
              </div>
            </div>
            <div class="col-md-6 pe-0">
              <div class="form-group form-group-default">
                <label for="type">Loại nhân viên:</label>
                <select name="type" id="loaiNhanVien" class="form-select" required>
                  <option value="Full-time">Full-time</option>
                  <option value="Part-time">Part-time</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group form-group-default">
                <label for="role">Chức vụ:</label>
                <select name="role" id="role" class="form-select" required>
                  <option value="Quản lý">Quản lý</option>
                  <option value="Nhân viên">Nhân viên</option>
                </select>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer border-0">
        <button type="button" id="addEmployeesButton" class="btn btn-primary">
          Thêm Nhân Viên
        </button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          Đóng
        </button>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    $('#addEmployeesButton').click(function () {
        const tenNhanVien = $('#tenNhanVien').val().trim();
        const diaChi = $('#diaChi').val().trim();
        const cccd = $('#cccd').val().trim();
        const sdt = $('#sdt').val().trim();
        const email = $('#email').val().trim();
        const loaiNhanVien = $('#loaiNhanVien').val();
        const role = $('#role').val();

        if (!tenNhanVien || !diaChi || !cccd || !sdt || !email || !loaiNhanVien || !role) {
            alert('Vui lòng điền đầy đủ thông tin!');
            return;
        }

        const formData = {
            tenNhanVien,
            diaChi,
            cccd,
            sdt,
            email,
            loaiNhanVien,
            role
        };

        fetch('/admin/employees/add', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData),
        })
            .then(response => response.json().then(data => ({ status: response.status, data })))
            .then(({ status, data }) => {
                if (status === 200) {
                    alert(data.message);
                    location.reload();
                } else {
                    alert(data.message);
                }
            })
            .catch(error => {
                console.error('Lỗi:', error);
                alert('Có lỗi xảy ra. Vui lòng thử lại!');
            });
    });
});


</script>
